DROP DATABASE IF EXISTS EVORENT;
CREATE DATABASE IF NOT EXISTS EVORENT;
USE EVORENT ;

CREATE TABLE USER_ACCESS_RIGHTS ( USER_ACCESS_ID INT(2) NOT NULL,
				  USER_ACCESS_NAME VARCHAR(50) NOT NULL,
				  USER_ACCESS_DESC VARCHAR(100),
				  DATETIME_ENTRY DATETIME,
				  SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
				  PRIMARY KEY (USER_ACCESS_ID));

INSERT INTO USER_ACCESS_RIGHTS VALUES   ( 00, 'PROGRAMMER', 'FULL ACCESS INCLUDING ALL SETTINGS', NOW(), 10000),
					( 01, 'EXECUTIVE', 'FULL ACCESS ON ALL FEATURES EXCEPT SETTINGS', NOW(), 10001),
					( 02, 'ADMINISTRATOR', 'HAS FULL ACCESS ON CASH FLOW', NOW(), 10003),
					( 03, 'TENANT', 'LIMITED ACCESS', NOW(), 10004);

CREATE TABLE USER_PROFILE (USER_PROFILE_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
			  USERNAME VARCHAR(15) NOT NULL,
			  PASSWORD VARCHAR(15) NOT NULL,
			  PIN_CODE VARCHAR(7) NOT NULL,
			  USER_STATUS INT(1) NOT NULL,
			  USER_ACCESS_ID INT(1) NOT NULL,
			  PROFILE_ID NUMERIC ,
			  DATETIME_ENTRY DATETIME,
			  SYSTEM_ACCOUNT_ID NUMERIC ,
			  FINALIZED_RECORD VARCHAR(1),
			  REFERENCE_ID INT,
			  RESERVED_1 VARCHAR(11),
			  RESERVED_2 VARCHAR(11),
			  PRIMARY KEY (USER_PROFILE_ID),
			  FOREIGN KEY (USER_ACCESS_ID) REFERENCES USER_ACCESS_RIGHTS (USER_ACCESS_ID),
			  INDEX (SYSTEM_ACCOUNT_ID));
		  
INSERT INTO USER_PROFILE VALUES ( 0, 'DEVELOPER', 'j4z41nN0v4T1on5', '1111', 1, 00, null, NOW(), 00, 'Y', NULL, NULL, NULL), 
		(0, 'EXECUTIVE', 'EXECUTIVE', 'EXEC', 1, 01, 1, NOW(), 00, 'Y', NULL, NULL, NULL);

CREATE TABLE EXECUTIVE_DETAILS ( EXEC_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
						EXEC_NAME VARCHAR(100),
						EXEC_MOBILE_NO NUMERIC(12),
						EXEC_BDAY DATE,
						EXEC_EMAIL_ADD VARCHAR(100),
						EXEC_USER_ACCT INT(1),
						EXEC_REMARKS VARCHAR(1000),
						EXEC_PHOTO LONGBLOB,
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC ,
						FINALIZED_RECORD VARCHAR(1),
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (EXEC_ID) );

INSERT INTO EXECUTIVE_DETAILS VALUES ( 0, 'EXECUTIVE', NULL, NULL, NULL, 1, NULL, NULL, NOW(), 00, 'Y', NULL, NULL, NULL);
						
CREATE TABLE ADMIN_DETAILS ( ADMIN_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
						ADMIN_NAME VARCHAR(100),
						ADMIN_MOBILE_NO NUMERIC(12),
						ADMIN_BDAY DATE,
						ADMIN_EMAIL_ADD VARCHAR(100),
						ADMIN_USER_ACCT INT(1),
						ADMIN_REMARKS VARCHAR(1000),
						ADMIN_PHOTO LONGBLOB,
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC ,
						FINALIZED_RECORD VARCHAR(1),
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (ADMIN_ID) );
						
CREATE TABLE ADMIN_MANAGEMENT ( MNGMT_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
							ADMIN_ID INT,
							BLDG_ID INT,
							MNGMT_STATUS INT(1),
							MNGMT_REMARKS VARCHAR(1000),
							DATETIME_ENTRY DATETIME,
							SYSTEM_ACCOUNT_ID NUMERIC ,
							FINALIZED_RECORD VARCHAR(1),
							REFERENCE_ID INT,
							RESERVED_1 VARCHAR(11),
							RESERVED_2 VARCHAR(11),
							PRIMARY KEY (MNGMT_ID) );

CREATE TABLE BUILDING_DETAILS ( BLDG_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
				  BLDG_NAME VARCHAR(100),
				  BLDG_ADDRESS VARCHAR(500),
				  BLDG_CONTACT_INFO NUMERIC(12),
				  BLDG_DATE_EST VARCHAR(50),
				  BLDG_FLOORS NUMERIC(2),
				  BLDG_FEATURES VARCHAR(1000),
				  BLDG_CONDITION NUMERIC(2),
				  BLDG_REMARKS VARCHAR(1000),
				  BLDG_PHOTO1 LONGBLOB,
				  BLDG_PHOTO2 LONGBLOB,
				  BLDG_PHOTO3 LONGBLOB,
				  BLDG_PHOTO4 LONGBLOB,
				  DATETIME_ENTRY DATETIME,
				  SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
				  FINALIZED_RECORD VARCHAR(1),
				  REFERENCE_ID INT,
				  RESERVED_1 VARCHAR(11),
				  RESERVED_2 VARCHAR(11),
				  PRIMARY KEY (BLDG_ID));
				  
CREATE TABLE BUILDING_ISSUES ( BLDG_ISSUES_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
							BLDG_ID INT,
							BLDG_INSPECTION_DATE DATE,
							BLDG_ISSUE_NAME VARCHAR(100),
							BLDG_ISSUE_DESC VARCHAR(1000),
							BLDG_ISSUE_ACTPLAN VARCHAR(500),
							BLDG_ISSUE_REMARKS VARCHAR(1000),
							BLDG_ISSUE_STATUS INT(1),
							DATETIME_ENTRY DATETIME,
							SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
							FINALIZED_RECORD VARCHAR(1),
							REFERENCE_ID INT,
							RESERVED_1 VARCHAR(11),
							RESERVED_2 VARCHAR(11),
							PRIMARY KEY (BLDG_ISSUES_ID));
							
CREATE TABLE CONTRACTOR_DETAILS ( CONTR_ID INT UNSIGNED AUTO_INCREMENT NOT NULL, 
								CONTR_NAME VARCHAR(100), 
								CONTR_ADDRESS VARCHAR(500),
								CONTR_CONTACTPERSON VARCHAR(100),
								CONTR_CONTACT_NO VARCHAR(12),
								CONTR_REMARKS VARCHAR(500),
								DATETIME_ENTRY DATETIME,
								SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
								FINALIZED_RECORD VARCHAR(1),
								REFERENCE_ID INT,
								RESERVED_1 VARCHAR(11),
								RESERVED_2 VARCHAR(11),
								PRIMARY KEY (CONTR_ID));
							
CREATE TABLE BUILDING_MAINTENANCE ( BLDG_MX_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
								BLDG_ID INT,
								BLDG_MX_REF_ID INT,
								BLDG_MX_DATE DATE,
								BLDG_MX_ACTIVITY INT(2),
								BLDG_MX_DESC VARCHAR(1000),
								CONTR_ID INT,
								BLDG_MX_STATUS INT(1),
								BLDG_MX_TOTAL_COST NUMERIC(12, 2),
								BLDG_MX_REMARKS VARCHAR(1000),
								DATETIME_ENTRY DATETIME,
								SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
								FINALIZED_RECORD VARCHAR(1),
								REFERENCE_ID INT,
								RESERVED_1 VARCHAR(11),
								RESERVED_2 VARCHAR(11),
								PRIMARY KEY (BLDG_MX_ID));
								
CREATE TABLE UNIT_TYPE ( UNIT_TYPE_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
						UNIT_TYPE_NAME VARCHAR(100),
						BLDG_ID INT,
						UNIT_TYPE_DESC VARCHAR(1000),
						UNIT_TYPE_AREA VARCHAR(500),
						UNIT_TYPE_PRICE NUMERIC(12, 2),
						UNIT_TYPE_MAX_CAPACITY NUMERIC(3),
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
						FINALIZED_RECORD VARCHAR(1),
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (UNIT_TYPE_ID));
						
CREATE TABLE UNIT_DETAILS ( UNIT_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
							UNIT_NAME VARCHAR(100),
							BLDG_ID INT,
							UNIT_FLOOR NUMERIC(2),
							UNIT_LOCATION INT(1),
							UNIT_TYPE_ID INT,
							UNIT_AREA VARCHAR(100),
							UNIT_FEATURES INT(1),
							UNIT_OTHER_FEATURE VARCHAR(1000),
							UNIT_BEDROOM NUMERIC(1),
							UNIT_BATHROOM NUMERIC(1),
							UNIT_MAX_CAPACITY NUMERIC(10),
							UNIT_CONDITION NUMERIC(2),
							UNIT_RENT_AMOUNT NUMERIC(12, 2),
							UNIT_ASSOC_AMOUNT NUMERIC(12, 2),
							UNIT_REMARKS VARCHAR(1000),
							UNIT_PHOTO LONGBLOB,
							DATETIME_ENTRY DATETIME,
							SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
							FINALIZED_RECORD VARCHAR(1),
							REFERENCE_ID INT,
							RESERVED_1 VARCHAR(11),
							RESERVED_2 VARCHAR(11),
							PRIMARY KEY (UNIT_ID));
							
CREATE TABLE UNIT_ISSUES ( UNIT_ISSUE_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
						UNIT_ID INT,
						UNIT_INSPECTION_DATE DATE,
						UNIT_ISSUE_NAME VARCHAR(100),
						UNIT_ISSUE_DESC VARCHAR(1000),
						UNIT_ISSUE_ACTPLAN VARCHAR(500),
						UNIT_ISSUE_STATUS INT(1),
						UNIT_ISSUE_REMARKS VARCHAR(1000),
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
						FINALIZED_RECORD VARCHAR(1),
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (UNIT_ISSUE_ID));
						
CREATE TABLE UNIT_MAINTENANCE ( UNIT_MX_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
								UNIT_ISSUE_ID INT,
								UNIT_ID INT,
								UNIT_MX_REF_ID INT, 
								UNIT_MX_DATE DATE,
								UNIT_MX_ACTIVITY INT(2),
								UNIT_MX_DESC VARCHAR(1000),
								UNIT_MX_REQUEST INT(1),
								OCCP_ID INT,
								UNIT_MX_CONTRACTOR  VARCHAR(500),
								UNIT_MX_STATUS INT(1),
								UNIT_MX_TOTAL_COST NUMERIC(12, 2),
								UNIT_MX_REMARKS VARCHAR(1000),
								DATETIME_ENTRY DATETIME,
								SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
								FINALIZED_RECORD VARCHAR(1),
								REFERENCE_ID INT,
								RESERVED_1 VARCHAR(11), 
								RESERVED_2 VARCHAR(11),
								PRIMARY KEY (UNIT_MX_ID));
								
CREATE TABLE PRIMARY_TENANT_DETAILS ( TENANT_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
									TENANT_NAME VARCHAR(100),
									TENANT_ADDRESS VARCHAR(500),
									TENANT_MOBILE_NO NUMERIC(11),
									TENANT_LANDLINE_NO NUMERIC(11),
									TENANT_EMAIL_ADD VARCHAR(100),
									TENANT_BDAY DATE,
									TENANT_GENDER INT(1),
									TENANT_USERACCT INT(1),
									TENANT_REMARKS VARCHAR(50),
									TENANT_STATUS INT(1),
									TENANT_PHOTO LONGBLOB,
									DATETIME_ENTRY DATETIME,
									SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
									FINALIZED_RECORD VARCHAR(1),
									REFERENCE_ID INT,
									RESERVED_1 VARCHAR(11),
									RESERVED_2 VARCHAR(11),
									PRIMARY KEY (TENANT_ID));

CREATE TABLE OCCUPANCY_DETAILS (OCCP_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
								TENANT_ID INT,
								UNIT_ID INT,
								OCCP_DELIVERY INT(1),
								OCCP_START DATE,
								OCCP_END DATE,
								OCCP_BILLING_CYCLE NUMERIC(2),
								OCCP_RENT_AMOUNT NUMERIC(12, 2),
								OCCP_STATUS INT(1),
								OCCP_DEPOSIT NUMERIC(12, 2),
								OCCP_REM_DEPOSIT NUMERIC(12, 2),
								OCCP_NO_OF_TENANT NUMERIC(2),
								OCCP_FELLOW_TENANT VARCHAR(500),
								OCCP_REMARKS VARCHAR(1000),
								OCCP_CONTRACT_NAME VARCHAR(300),
								OCCP_CONTRACT_PHOTO LONGBLOB,
								DATETIME_ENTRY DATETIME,
								SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
								FINALIZED_RECORD VARCHAR(1),
								REFERENCE_ID INT,
								RESERVED_1 VARCHAR(11),
								RESERVED_2 VARCHAR(11),
								PRIMARY KEY (OCCP_ID));
								
CREATE TABLE BILLING_STATEMENT_DETAILS (STATEMENT_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
										STATEMENT_NUMBER VARCHAR(50),
										OCCP_ID INT,
										STATEMENT_TYPE INT(1),
										STATEMENT_DATE DATE,
										STATEMENT_MONTH INT(2),
										STATEMENT_DUEDATE DATE,
										STATEMENT_AMOUNT NUMERIC(12, 2),
										STATEMENT_STATUS INT(1),
										STATEMENT_REMARKS VARCHAR(500),
										DATETIME_ENTRY DATETIME,
										SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
										FINALIZED_RECORD VARCHAR(1),
										REFERENCE_ID INT,
										RESERVED_1 VARCHAR(11),
										RESERVED_2 VARCHAR(11),
										PRIMARY KEY (STATEMENT_ID));
							
CREATE TABLE RENT_PAYMENT_DETAILS ( PAYMENT_ID INT UNSIGNED AUTO_INCREMENT NOT NULL,
									OCCP_ID INT,
									STATEMENT_NUMBER VARCHAR(50),
									PAYMENT_RECEIPT_NO	VARCHAR(1000),
									PAYMENT_DATE DATE,
									PAYMENT_AMOUNT NUMERIC(12, 2),
									PAYMENT_VIA INT(1),
									PAYMENT_RECEIPT INT(1),
									DATETIME_ENTRY DATETIME,
									SYSTEM_ACCOUNT_ID NUMERIC NOT NULL,
									FINALIZED_RECORD VARCHAR(1),
									REFERENCE_ID INT,
									RESERVED_1 VARCHAR(11),
									RESERVED_2 VARCHAR(11),
									PRIMARY KEY (PAYMENT_ID));
									
CREATE TABLE EXPENSE_RECORD ( EXPENSE_ID INT UNSIGNED AUTO_INCREMENT NOT NULL, 
								TABLE_NAME VARCHAR(30),
								TABLE_ID INT UNSIGNED,
								EXPENSE_REF INT ,
								CONTRACTOR_ID INT,
								EXPENSE_TXN_DATE DATE,
								EXPENSE_COA INT, 
								EXPENSE_DESCRIPTION VARCHAR(500),
								EXPENSE_AMOUNT NUMERIC(12,2),
								BLDG_ID INT, 
								DATETIME_ENTRY DATETIME,
								SYSTEM_ACCOUNT_ID NUMERIC NOT NULL, 
								FINALIZED_RECORD VARCHAR(1),
								REFERENCE_ID INT, 
								RESERVED_1 VARCHAR(11),
								RESERVED_2 VARCHAR(11),
								PRIMARY KEY (EXPENSE_ID));

				  
CREATE TABLE USER_TRACK_LOG (USER_TRACK_LOG_ID INT AUTO_INCREMENT NOT NULL,
						USER_PROFILE_ID VARCHAR(100),
						REMARKS VARCHAR(100),
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC ,
						PRIMARY KEY (USER_TRACK_LOG_ID));	

CREATE TABLE COMPANY_SETTINGS (SETTING_ID INT AUTO_INCREMENT NOT NULL,
						COMPANY_LOGO LONGBLOB,
						COMPANY_NAME VARCHAR(100),
						COMPANY_ADDRESS VARCHAR(1000),
						COMPANY_PHONE VARCHAR(50),
						COMPANY_WEBSITE VARCHAR(100),
						COMPANY_EMAIL_ADDRESS VARCHAR(100),
						COMPANY_TIN_NO VARCHAR(50),
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC ,
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (SETTING_ID));	

CREATE TABLE BUILDING_SETTINGS (BLDG_SETTING_ID INT AUTO_INCREMENT NOT NULL,
						BLDG_ID INT UNSIGNED,
						BLDG_LOGO LONGBLOB,
						BLDG_WATERMARK LONGBLOB,
						BLDG_TIN_NO VARCHAR(50),
						BLDG_BILLING_STATEMENT_NO VARCHAR(20),
						BLDG_RECEIPT_NO VARCHAR(20),
						DUE_DATE VARCHAR(2),
						DATETIME_ENTRY DATETIME,
						SYSTEM_ACCOUNT_ID NUMERIC ,
						REFERENCE_ID INT,
						RESERVED_1 VARCHAR(11),
						RESERVED_2 VARCHAR(11),
						PRIMARY KEY (BLDG_SETTING_ID));							

